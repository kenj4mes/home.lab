# yt-dlp configuration for YouTube archiving
# Place in: configs/youtube/yt-dlp.conf

# Output template
-o /downloads/%(uploader)s/%(upload_date)s - %(title)s [%(id)s].%(ext)s

# Quality settings
-f bestvideo[height<=1080]+bestaudio/best[height<=1080]
--merge-output-format mkv

# Metadata
--write-info-json
--write-description
--write-thumbnail
--write-subs
--sub-langs en,es,pt,fr,de,ja
--embed-subs
--embed-thumbnail
--embed-metadata

# Archive (skip already downloaded)
--download-archive /archive/downloaded.txt

# Rate limiting (be nice to servers)
--sleep-interval 5
--max-sleep-interval 30
--sleep-requests 1

# Retry settings
--retries 10
--fragment-retries 10

# Cookies (for age-restricted content)
# --cookies /config/cookies.txt

# Sponsorblock (skip sponsor segments)
--sponsorblock-mark all
--sponsorblock-remove sponsor,selfpromo

# Chapters
--embed-chapters

# Ignore errors and continue
--ignore-errors
--no-abort-on-error

# Concurrent downloads
--concurrent-fragments 4
