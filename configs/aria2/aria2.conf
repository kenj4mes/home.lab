# ═══════════════════════════════════════════════════════════════════════════
# home.lab ARIA2 MAXIMUM VELOCITY CONFIG
# ═══════════════════════════════════════════════════════════════════════════════
# "Speed is not just a feature, it's a philosophy."

# ═══════════════ CONNECTION MULTIPLIER ═══════════════
# Max TCP streams per host (hard limit: 16)
max-connection-per-server=16

# Split file into parallel segments
split=16

# Minimum segment size to avoid TCP handshake overhead
min-split-size=1M

# ═══════════════ LATENCY KILLERS ═══════════════
# HTTP pipelining - send multiple requests without waiting
enable-http-pipelining=true

# Disable status line updates (saves CPU cycles)
summary-interval=0

# Keep console output minimal but useful
console-log-level=notice

# ═══════════════ RELIABILITY ═══════════════
# Auto-resume interrupted downloads
continue=true

# Retry failed downloads
max-tries=5
retry-wait=3

# Timeout settings
connect-timeout=60
timeout=600

# ═══════════════ SSL/TLS OPTIMIZATION ═══════════════
# Skip certificate revocation check (avoids "revocation server offline" errors)
check-certificate=true

# Allow connections to servers with invalid certificates from mirrors
# (Kiwix uses multiple mirrors, some have cert issues)
# ca-certificate=  # Use system default

# ═══════════════ DISK OPTIMIZATION ═══════════════
# Use 'none' for fastest start (no pre-allocation needed)
# 'falloc' requires admin privileges on Windows
file-allocation=none

# Disk cache for write buffering (256MB)
disk-cache=256M

# ═══════════════ NETWORK OPTIMIZATION ═══════════════
# Async DNS (faster resolution)
async-dns=true

# Optimize for concurrent downloads
max-concurrent-downloads=5

# Socket receive buffer (bytes)
socket-recv-buffer-size=16777216

# ═══════════════ USER AGENT ═══════════════
# Some servers throttle aria2, pretend to be browser
user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# ═══════════════ OUTPUT ═══════════════
# Show download progress
show-console-readout=true

# Human readable output
human-readable=true

# ═══════════════════════════════════════════════════════════════════════════
# Usage: aria2c --conf-path="C:\home.lab\configs\aria2\aria2.conf" <URL>
# ═══════════════════════════════════════════════════════════════════════════
