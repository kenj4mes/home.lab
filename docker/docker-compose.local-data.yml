# ==============================================================================
# HOMELAB DATA VOLUMES - Local Path Configuration
# ==============================================================================
# 
# This file provides local bind mount overrides for HomeLab services.
# Using local paths makes the entire installation portable and backup-friendly.
#
# ⚠️ OVERLAY FILE: Must be used with a base compose file!
#
# Usage Examples:
#   docker compose -f docker-compose.yml -f docker-compose.local-data.yml up -d
#   docker compose -f docker-compose.base.yml -f docker-compose.local-data.yml up -d
#
# NOTE: Only override services that exist in the base file you're combining with.
# ==============================================================================

name: homelab

services:
  # ==========================================================================
  # CORE SERVICES (docker-compose.yml / docker-compose.windows.yml)
  # ==========================================================================
  
  jellyfin:
    volumes:
      - ../data/volumes/jellyfin/config:/config
      - ../data/volumes/jellyfin/cache:/cache
      - ${MEDIA_PATH:-../data/media}:/media:ro

  bookstack:
    volumes:
      - ../data/volumes/bookstack:/config

  kiwix:
    volumes:
      - ../data/zim:/data:ro

  portainer:
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ../data/volumes/portainer:/data

  qbittorrent:
    volumes:
      - ../data/volumes/qbittorrent:/config
      - ${DOWNLOADS_PATH:-../data/downloads}:/downloads

  open-webui:
    volumes:
      - ../data/volumes/open-webui:/app/backend/data

  # ==========================================================================
  # DATABASE
  # ==========================================================================
  
  mariadb:
    volumes:
      - ../data/volumes/mariadb:/var/lib/mysql

# Override network if needed
networks:
  homelab:
    name: homelab
